前端巡检

一. 前端巡检的工作？

1. 检查页面是否可以访问

2. 检查子链接是否可以访问

3. 监控API请求是否正常访问？

4. 监控资源是否正常加载？
  监控console
  监控error

5. 核心业务功能逻辑测试
  判断条件可以通过事件发生后是否能找对对应UI元素；
  这里可以封装一系列测试用例。
  利用Puppeteer打开页面后，再执行这些测试用例；

二. 一个前端巡检系统架构

大致分三部分：  

1. 巡检服务器：
    - 定时执行巡检，跑各个巡检用例；巡检脚本是指针对各应用工程的巡检用例；
    - 收集巡检用例数据；主要是异常数据处理和入库，并提供查询功能；
    - 异常通知：当巡检用例执行不符合时，进行异常消息推送；

2. 工具库：
    - 封装Puppeteer和Assert的方法调用的工具包，提供一系列方法供巡检用例调用；
    - 封装信息推送的方法；

>这里就是我们当前的packages包 inspector提供：
而inspector-cli提供命令行调用；

3. 巡检用例脚本：各工程应用各自编写巡检用例脚本存放在工程文件中，在部署的使用再推送到巡检服务中，等待巡检服务调用；

如图：(./flow.jpg)
