## Node 简介

1. Node 的起源？
   Node 是 Ryan Dahl 在探索高性能 Web 服务器的过程中，找到了**高性能**，**Web 服务器**的要点是**非阻塞 I/O，事件驱动**，然后结合当时的语言性质和门槛和 Chrome，javascript 发展情况，决定围绕 Chrome 的 V8 引擎为基础，设计**一个高性能 Web 服务器，并提供一套库**；
   后面经过不断的发展，变成了**构建网络应用的一个基础框架**，使用它**构建如服务器，客户端，命令行工具**等等

2. Node 名字由来？
   Node 及节点，含义为用一个个 Node 进程（程序）构建一个复杂的网络应用；
   而 Node 本身设计为一个强制不共享任何资源的单线程，单进程系统，为构建大型分布式应用程序提供构建基础，其目标也是成为一个构建**快速，可伸缩**的网络应用平台；

3. Node 给 JavaScript 带来了什么？  
   Node 给 JavaScript 带来了全栈的能力；  
   我们知道 JavaSctipt 是基于浏览器，而它发展则基于 Chrome 的 V8 引擎的加成；  
   Node 的结构和 Chrome 非常相似，JavaScript 作用于 V8，V8 依赖于中间层（Node 中是利用 libuv 库）调用硬件如网卡，硬盘，显卡等；

   它们也都是基于**事件驱动的异步架构**，浏览器通过事件驱动来服务界面上的交互；Node 通过事件驱动来服务 I/O;

   它们有着相同的机制和运行原理；

4. Node 的特点？

   - 4.1 异步 I/O

   - 4.2 事件 / 事件驱动 > 事件循环

   - 4.3 单线程  
     优点：

     - 心智负担少；运行逻辑简单，不用像多进程，多线程一样，考虑死锁等问题；
     - 资源消耗少；

     缺点：

     - CPU 利用率低，单个线程只能利用一个 CPU 内核；
     - 健壮性差，单线程执行出错后，容错机制差；
     - CPU 计算差，处理长计算时，I/O 不能被及时响应；

     优化方案：
     对与这些单线程的缺点，Node 通过创建**子进程 child_process**的方式来解决，拓展了 Node 的能力，合理的调度能充分发挥 Node 的能力；

     > PS: Node 的子进程 child_process 库利用 master-worker 的管理方式，借鉴于**Web Worker**的创建进程和管理的方式；

   - 4.4 跨平台  
     Node 的跨平台是通过 libuv 库来实现在 Linux，Window 等间的跨平台；
     在 Node 的架构中，libuv 库充当着 V8 和底层硬件间的中间层；

5. Node 的运用场景

   - I/O 密集型： 异步 I/O 和事件机制，事件循环等，天然的利于对 I/O 密集型；
   - CPU 密集型：对于 CPU 密集型处理，利用对**子进程 child_process 的合理调度**，也能很好的处理个问题。（ps:也可以通过优化针对 CPU 利用的 C++库程序）

   - 运用举例：
     - 实时应用（语音，视频等）：利用 Node 带来的高性能 I/O；（对实时应用来说，是不停的进行拉取网络资源这个 I/O 操作，然后解析资源）
     - 分布式调用（分布式库查询等）：利用**并行（异步和子进程管理）**来进行更高效的分布式调用；
     - **类似 BFF 或 SSR，SSG 等工具类：提升前端功能，提升 Web 渲染能力**
     - ...
